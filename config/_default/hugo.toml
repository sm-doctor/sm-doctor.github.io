# -- Site Configuration --
# Refer to the theme docs for more details about each of these parameters.
# https://blowfish.page/docs/getting-started/

theme = "blowfish"
baseURL = "https://sm.doctor/"
defaultContentLanguage = "en"
# 启用多语言URL支持
defaultContentLanguageInSubdir = true
# 启用内容语言折叠，这有助于解决多语言URL问题
multilingualMode = "perPage"

pluralizeListTitles = false # hugo function useful for non-english languages, find out more in  https://gohugo.io/getting-started/configuration/#pluralizelisttitles

enableRobotsTXT = true
summaryLength = 0

buildDrafts = false
buildFuture = false

enableEmoji = true

googleAnalytics = ""

[pagination]
  pagerSize = 100

[imaging]
  anchor = 'Center'

[taxonomies]
  tag = "tags"
  category = "categories"
  author = "authors"
  series = "series"

[sitemap]
  changefreq = 'daily'
  filename = 'sitemap.xml'
  priority = 0.5

[outputs]
  # 确保首页有完整的输出格式
  home = ["HTML", "RSS", "JSON"]
  # 确保section页面也有正确的输出格式
  section = ["HTML", "RSS"]
  # 确保语言版本的section页面也有正确的输出格式
  taxonomy = ["HTML", "RSS"]
  term = ["HTML", "RSS"]
  # 为单页内容添加输出格式
  page = ["HTML"]

[related]
  threshold = 0
  toLower = false

# 启用文件服务器模式，这有助于在GitHub Pages上正确处理URL
[server]
  cleanDestinationDir = true
  # 确保没有.html扩展名的URL也能正确映射到对应的HTML文件
  trailingSlash = true
  # 启用对目录索引页的支持
  indexPages = true
  # 启用回退到默认语言的功能
  defaultContentLanguage = "en"

# 配置URL永久链接结构
[permalinks]
  # 为主要内容类型设置永久链接
  # 确保URL以斜杠结尾，这对目录形式的URL访问至关重要
  posts = "/:language/posts/:filename/"
  blog = "/:language/blog/:filename/"
  docs = "/:language/docs/:filename/"
  # 添加静态页面的永久链接配置
  About = "/:language/About/"
  Contact = "/:language/Contact/"
  Blog = "/:language/Blog/"
  FAQs = "/:language/FAQs/"

    [[related.indices]]
        name = "tags"
        weight = 100

    [[related.indices]]
        name = "categories"
        weight = 100

    [[related.indices]]
        name = "series"
        weight = 50

    [[related.indices]]
        name = "authors"
        weight = 20

    [[related.indices]]
        name = "date"
        weight = 10

    [[related.indices]]
      applyFilter = false
      name = 'fragmentrefs'
      type = 'fragments'
      weight = 10
