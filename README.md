# SM医生网站 - 中医健康咨询平台

## 项目概述

本项目是一个中医健康咨询网站，集成了DeepSeek AI模型提供智能诊询功能，并通过邮件方式将诊询结果发送给用户和管理员。

## 功能实现

### 1. 智能诊询表单
- 用户在首页填写病症名称和描述
- 提交后弹出邮箱输入框
- 用户提供邮箱后，系统通过DeepSeek API生成诊断建议
- 诊询结果通过邮件发送给用户和管理员

### 2. 技术架构
- **前端**：HTML, JavaScript, Tailwind CSS
- **后端**：Vercel Serverless Functions
- **AI模型**：DeepSeek Chat API
- **邮件服务**：SMTP (iCloud Mail)

## Vercel配置指南

### 环境变量设置

在Vercel项目设置的Environment Variables中添加以下环境变量：

- `DEEPSEEK_API_KEY`: DeepSeek API密钥
- `EMAIL_USER`: www.sm.doctor@icloud.com (发件人邮箱)
- `EMAIL_PASS`: zusr-vpyq-sizt-whlk (应用专用密码)
- `ADMIN_EMAIL`: bluey@139.com (管理员邮箱)

### Vercel免费版功能限制验证

**免费版Vercel是否满足需求：** ✅ 满足

**详细说明：**

1. **函数执行限制**：
   - 免费版函数最大执行时间为10秒
   - 我们的API调用和邮件发送流程通常在5秒内完成，满足限制

2. **调用次数限制**：
   - 免费版每月提供1000次Serverless Function调用
   - 对于初期使用和中等流量足够

3. **环境变量支持**：
   - 免费版支持环境变量存储，足够保存我们的API密钥和邮件配置

4. **带宽限制**：
   - 免费版每月提供100GB带宽
   - 我们的应用主要是文本传输，带宽消耗较小

**升级建议：**
- 当每月诊询量超过1000次时，建议升级到Hobby计划
- 如果需要更长的函数执行时间或更多的高级功能，可以考虑Pro计划

## 部署步骤

1. 将代码推送到GitHub仓库
2. 在Vercel中导入该仓库
3. 配置环境变量（如上所述）
4. 点击Deploy按钮完成部署

## 安全注意事项

- 不要将环境变量文件提交到版本控制
- 使用应用专用密码而不是主邮箱密码
- 定期更新API密钥以保证安全性

## 故障排除

### 常见问题

1. **邮件发送失败**：
   - 检查SMTP配置是否正确
   - 确认iCloud邮件应用专用密码是否有效

2. **API调用超时**：
   - 优化函数执行逻辑
   - 考虑增加错误处理和重试机制

3. **环境变量未生效**：
   - 在Vercel中重新部署项目以加载最新的环境变量
